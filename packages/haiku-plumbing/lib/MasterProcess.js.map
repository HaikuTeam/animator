{"version":3,"sources":["../src/MasterProcess.js"],"names":["run","master","HAIKU","folder","on","Error","process","env","HAIKU_RELEASE_ENVIRONMENT","Raven","require","context"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,SAASA,GAAT,GAAgB;AACd,MAAMC,SAAS,qBAAW,sBAAYC,KAAZ,CAAkBC,MAA7B,CAAf;AACAF,SAAOG,EAAP,CAAU,mBAAV,EAA+B,YAAM;AACnC,UAAM,IAAIC,KAAJ,CAAU,kDAAV,CAAN;AACD,GAFD;AAGA,SAAOJ,MAAP;AACD;;AAED,IAAIA,eAAJ;;AAEA,IAAIK,QAAQC,GAAR,CAAYC,yBAAZ,KAA0C,YAA1C,IAA0DF,QAAQC,GAAR,CAAYC,yBAAZ,KAA0C,SAAxG,EAAmH;AACjH,MAAMC,QAAQC,QAAQ,SAAR,CAAd;AACAD,QAAME,OAAN,CAAc,YAAM;AAClBV,aAASD,KAAT;AACD,GAFD;AAGD,CALD,MAKO;AACLC,WAASD,KAAT;AACD;;kBAEcC,M","file":"MasterProcess.js","sourcesContent":["import ProcessBase from './ProcessBase'\nimport Master from './Master'\n\nfunction run () {\n  const master = new Master(ProcessBase.HAIKU.folder)\n  master.on('host-disconnected', () => {\n    throw new Error('[master] disconnected from host plumbing process')\n  })\n  return master\n}\n\nlet master\n\nif (process.env.HAIKU_RELEASE_ENVIRONMENT === 'production' || process.env.HAIKU_RELEASE_ENVIRONMENT === 'staging') {\n  const Raven = require('./Raven')\n  Raven.context(() => {\n    master = run()\n  })\n} else {\n  master = run()\n}\n\nexport default master\n"]}